/**
 * JSLite compressed.
 * 
 * @author Avaq <aldwin.vlasblom@gmail.com>, https://github.com/Avaq
 * @version 0.6.0-beta
 * 
 * This version contains:
 * - JSlite.js
 * - ClassFactory.js
 * - Events.js
 */
(function(e,t){function n(e){this.message=e||this.message}n.prototype={name:"JSLiteException",message:"An error occurred in JSLite.",toString:function(){return this.message}};e.JSLite={};e.JSLite.JSLiteException=n;e.JSLite.utils={}})(this||window);(function(e){"use strict";function i(e,n,r){var i=[];while(r){if(t.call(r,e)){i.push(r)}r=r[n]}return i}function s(e){this._class=this._noop=e}function o(){var e=function(){};this.constructor=e;e.parent=o;e.prototype=this;return new s(e)}var t=Object.prototype.hasOwnProperty,n=Array.prototype.slice,r=e.JSLite.utils;r.extend=function(e){var r,i,s=n.call(arguments,1);for(r=0;r<s.length;r++){for(i in s[r]){if(t.call(s[r],i)){e[i]=s[r][i]}}}return e};s.prototype={extend:function(e){this._class.prototype=r.extend(Object.create(e.prototype),this._class.prototype);this._class.parent=e;if(!this.hasConstructor()){this.construct(function(){e.apply(this,arguments)})}return this},construct:function(e,t){var n=!t?e:function(){e.apply(this,arguments)};n.prototype=this._class.prototype;r.extend(n,this._class,e);this._class=n.prototype.constructor=n;return this},members:function(e){if(e.constructor){if(e.constructor instanceof Function&&e.constructor!==Object){this.construct(e.constructor,true)}else{this.statics(e.constructor)}delete e.constructor}r.extend(this._class.prototype,e);return this},statics:function(e){if(e.parent){this.extend(e.parent);delete e.parent}r.extend(this._class,e);return this},finalize:function(){return this._class},hasConstructor:function(){return this._class!==this._noop}};o.parent=false;o.prototype={proxy:function(e){var t=this,r=n.call(arguments,1);return function(){return e.apply(t,r.concat(n.call(arguments)))}},"super":function(e,t){return this.constructor.parent.prototype[e].apply(this,t||[])},construct:function(e){this.constructor.parent.apply(this,e||[])},combine:function(e){var t={},n,s=i(e,"__proto__",this).reverse(),o=s.length;if(o===0){return undefined}for(n=0;n<o;n++){r.extend(t,s[n][e])}return t},getStatic:function(e){var t=i(e,"parent",this.constructor)[0];return t&&t[e]},callStatic:function(e,t){var n=i(e,"parent",this.constructor)[0];if(!n){throw new JSLite.JSLiteException("None of the parent classes of '"+typeof this+"' have method '"+e+"'.")}return n[e].apply(n,t||[])},combineStatic:function(e){var t={},n,s=i(e,"parent",this.constructor).reverse(),o=s.length;if(o===0){return undefined}for(n=0;n<o;n++){r.extend(t,s[n][e])}return t}};e.JSLite.ClassFactory=s;e.JSLite.Class=o})(this||window);(function(e){"use strict";var t=Object.prototype.hasOwnProperty,n=e.JSLite,r=n.Class,i=n.utils;var s=(new r).construct(function(e,n){var r,o=["stopPropagation","stopImmediatePropagation"];if(!(this instanceof s)){return new s(e,n)}for(r in n){if(t.call(n,r)&&n[r]==true&&o.indexOf(r)>=0){this[r]()}}i.extend(this,n,{type:e,asd:e,currentType:e,timeStamp:(new Date).getTime()})}).members({type:null,timeStamp:null,stopped:0,returnValue:undefined,returnValues:[],stopPropagation:function(){this.stopped=1},stopImmediatePropagation:function(){this.stopped=2},isPropagationStopped:function(){return this.stopped>=1},isImmediatePropagationStopped:function(){return this.stopped>=2}}).finalize();var o={eventListeners:null,on:function(e,t){this.addListener(e,t);return this},once:function(e,t){var n;var r=this.proxy(function(){this.removeListener(e,t);return t.apply(this,arguments)});n=this.addListener(e,r);n.callback=t;return this},no:function(e,t){if(t instanceof Function){this.removeListener(e,t)}else{this.removeListeners(e)}return this},trigger:function(e,t){this._initEvents();var n,r,i,o,u,a=new s(e,t),f=e.split(":");for(n=f.length;n>0;n--){o=f.slice(0,n).join(":");u=this.eventListeners[o];if(!u){continue}a.currentType=o;a.typeStack=f.slice(n);for(r=0;r<u.length;r++){i=u[r].handler.call(this,a);if(i!==undefined){a.returnValues.push(i);a.returnValue=i}if(a.isImmediatePropagationStopped()){break}}if(a.isPropagationStopped()){break}}return a},addListener:function(e,t){this._initEvents();var n={type:e,callback:t,handler:t};(this.eventListeners[e]||(this.eventListeners[e]=[])).unshift(n);return n},removeListener:function(e,t){this._initEvents();var n,r=this.eventListeners[e];if(!r){return false}console.log(r);for(n=0;n<r.length;n++){if(r[n].callback===t){r.splice(n,1)[0];n--}}if(r.length===0){this.removeListeners(e)}return true},removeListeners:function(e){this._initEvents();delete this.eventListeners[e]},_initEvents:function(){if(!(this.eventListeners instanceof Array)){this.eventListeners=[]}}};n.Event=s;n.EventMixin=o})(this||window)
